<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><link rel="icon" href="/sotoy/favicon.ico"/><title>Recovering from a Broken Nix Wsl Setup</title><meta name="robots" content="index,follow"/><meta name="googlebot" content="index,follow"/><meta name="description" content="Nix, WSL, Recovery, Mitchell Hashimoto Inspiration"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:site" content="zeihanaulia"/><meta name="twitter:creator" content="zeihanaulia"/><meta property="og:title" content="Recovering from a Broken Nix Wsl Setup"/><meta property="og:description" content="Nix, WSL, Recovery, Mitchell Hashimoto Inspiration"/><meta property="og:url" content="https://zeihanaulia.github.io/sotoy/notes/57q7jyz0wff078xaz4s6eea/"/><meta property="og:type" content="article"/><meta property="article:published_time" content="4/29/2025"/><meta property="article:modified_time" content="4/29/2025"/><meta property="article:tag" content="nix"/><meta property="article:tag" content="wsl"/><meta property="article:tag" content="developer-tools"/><meta property="og:image" content="https://pbs.twimg.com/profile_images/502375255256485888/1UYtt7PT_400x400.jpeg"/><meta property="og:image:alt" content="Software Engineer, "/><link rel="canonical" href="https://zeihanaulia.github.io/sotoy/notes/57q7jyz0wff078xaz4s6eea/"/><meta name="next-head-count" content="22"/><link rel="preload" href="/sotoy/_next/static/css/41067a1ca86a1f32.css" as="style"/><link rel="stylesheet" href="/sotoy/_next/static/css/41067a1ca86a1f32.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/sotoy/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/sotoy/_next/static/chunks/webpack-3978769f38772f6c.js" defer=""></script><script src="/sotoy/_next/static/chunks/framework-28c999baf2863c3d.js" defer=""></script><script src="/sotoy/_next/static/chunks/main-5b62020850a4108f.js" defer=""></script><script src="/sotoy/_next/static/chunks/pages/_app-38d6e24c790d891f.js" defer=""></script><script src="/sotoy/_next/static/chunks/935-4dee79e80b8641c6.js" defer=""></script><script src="/sotoy/_next/static/chunks/6-50972def09142ee2.js" defer=""></script><script src="/sotoy/_next/static/chunks/pages/notes/%5Bid%5D-78d472fa3b924116.js" defer=""></script><script src="/sotoy/_next/static/l_PAyXQBStiOpWGlqI7Zj/_buildManifest.js" defer=""></script><script src="/sotoy/_next/static/l_PAyXQBStiOpWGlqI7Zj/_ssgManifest.js" defer=""></script></head><body><div id="__next" data-reactroot=""><section class="ant-layout" style="width:100%;min-height:100%"><header class="ant-layout-header" style="position:fixed;isolation:isolate;z-index:1;width:100%;border-bottom:1px solid #d4dadf;height:64px;padding:0 24px 0 2px"><div class="ant-row ant-row-center" style="max-width:992px;justify-content:space-between;margin:0 auto"><div style="display:flex" class="ant-col ant-col-xs-20 ant-col-sm-4"></div><div class="ant-col gutter-row ant-col-xs-0 ant-col-sm-20 ant-col-md-20 ant-col-lg-19"><div class="ant-select ant-select-lg ant-select-auto-complete ant-select-single ant-select-allow-clear ant-select-show-search" style="width:100%"><div class="ant-select-selector"><span class="ant-select-selection-search"><input type="search" autoComplete="off" class="ant-select-selection-search-input" role="combobox" aria-haspopup="listbox" aria-owns="undefined_list" aria-autocomplete="list" aria-controls="undefined_list" aria-activedescendant="undefined_list_0" value=""/></span><span class="ant-select-selection-placeholder">For full text search please use the &#x27;?&#x27; prefix. e.g. ? Onboarding</span></div></div></div><div style="display:none;align-items:center;justify-content:center" class="ant-col ant-col-xs-4 ant-col-sm-4 ant-col-md-0 ant-col-lg-0"><span role="img" aria-label="menu" style="font-size:24px" tabindex="-1" class="anticon anticon-menu"><svg viewBox="64 64 896 896" focusable="false" data-icon="menu" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M904 160H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0 624H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0-312H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8z"></path></svg></span></div></div></header><section class="ant-layout" style="margin-top:64px;display:flex;flex-direction:row"><div class="site-layout-sidebar" style="flex:0 0 auto;width:calc(max((100% - 992px) / 2, 0px) + 200px);min-width:200px;padding-left:calc((100% - 992px) / 2)"><aside class="ant-layout-sider ant-layout-sider-dark" style="position:fixed;overflow:auto;height:calc(100vh - 64px);background-color:transparent;flex:0 0 200px;max-width:200px;min-width:200px;width:200px"><div class="ant-layout-sider-children"></div></aside></div><main class="ant-layout-content side-layout-main" style="max-width:1200px;min-width:0;display:block"><div style="padding:0 24px"><div class="main-content" role="main"><div class="ant-row"><div class="ant-col ant-col-24"><div class="ant-row" style="margin-left:-10px;margin-right:-10px"><div style="padding-left:10px;padding-right:10px" class="ant-col ant-col-xs-24 ant-col-md-18"><div><h1 id="recovering-from-a-broken-nix-wsl-setup">Recovering from a Broken Nix Wsl Setup<a aria-hidden="true" class="anchor-heading icon-link" href="#recovering-from-a-broken-nix-wsl-setup"></a></h1>
<p>Beberapa bulan lalu, gue lagi nonton sesi <a href="https://www.youtube.com/watch?v=LA8KF9Fs2sk">Dev Tool Time</a>, narasumbernya <strong>Mitchell Hashimoto</strong> (founder Vagrant, Terraform, Vault).</p>
<p>Di situ Mitchell nunjukin setup developernya yang keren banget: pakai <strong>NixOS di dalam VM</strong>, semua konfigurasinya deklaratif, dan kalau mau rebuild environment cukup jalanin satu perintah. </p>
<p>Gue mikir, "Wah gila, keren banget. Kalau Mitchell bisa, masa gue nggak?". Akhirnya gue mulai eksperimen sendiri: pasang Nix langsung di WSL Ubuntu, tanpa VM. Gue pikir bakal lebih praktis. Ternyata... malah jadi awal bencana kecil.</p>
<h2 id="masalah">Masalah<a aria-hidden="true" class="anchor-heading icon-link" href="#masalah"></a></h2>
<p>Awalnya semua keliatan baik-baik aja. Tapi hari ini 2025-04-29 , tiba-tiba semua command dasar kayak <code>ls</code>, <code>mkdir</code>, <code>rm</code> mulai error. Pesannya aneh banget:</p>
<pre class="language-bash"><code class="language-bash">mkdir: symbol lookup error: /nix/store/<span class="token punctuation">..</span>./libc.so.6: undefined symbol: __tunable_is_initialized, version GLIBC_PRIVATE
</code></pre>
<p>Semua binary standar mati total, bahkan <code>bash</code> sendiri error. Sistem WSL gue kayak zombified.</p>
<p>Setelah gue selidiki, ketauan masalahnya: glibc versi baru dari Nix terlalu bleeding edge. Ada perubahan internal symbol yang bikin semua binary yang udah ada langsung crash. Dan karena gue make Nix sebagai base shell, ya udah, kena semua.</p>
<p>Parahnya lagi, file <code>.vhdx</code> WSL jadi ke-lock. Mau akses lewat Windows pun nggak bisa. Total disaster.</p>
<h2 id="usaha-recovery">Usaha Recovery<a aria-hidden="true" class="anchor-heading icon-link" href="#usaha-recovery"></a></h2>
<p>Karena dari dalam WSL udah nggak mungkin recovery sih wkwkwk,  satu-satunya jalan dengan melakukan operasi penyelamatan dari luar.</p>
<p>Gue mulai dengan cari file <code>.vhdx</code> di:</p>
<pre><code>C:\Users\&#x3C;username>\AppData\Local\Packages\&#x3C;distro>\LocalState\ext4.vhdx
</code></pre>
<p>Abis itu gue copy <code>.vhdx</code> ke lokasi aman. Butuh waktu lama, karena ukurannya 75GB lebih.</p>
<p>Setelah itu, gue import lagi file itu ke WSL baru:</p>
<pre class="language-bash"><code class="language-bash">wsl --import --vhd recovery-distro D:<span class="token punctuation">\</span>wsl-recovery<span class="token punctuation">\</span> D:<span class="token punctuation">\</span>ext4-copy.vhdx --version <span class="token number">2</span>
</code></pre>
<p>Lanjut, gue jalanin:</p>
<pre class="language-bash"><code class="language-bash">wsl -d recovery-distro
</code></pre>
<p>Akhirnya bisa masuk ke recovery mode. Tapi jangan buru-buru copy semua <code>/home</code>, itu malah buang-buang space. Gue cuma backup folder-folder penting buat development aja kayak project directory sama <code>.ssh</code>.</p>
<p>Pakai <code>tar</code> gini:</p>
<pre class="language-bash"><code class="language-bash"><span class="token shebang important">#!/bin/bash</span>
<span class="token assign-left variable">BACKUP_NAME</span><span class="token operator">=</span><span class="token string">"home-important-<span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%Y%m%d%H%M%S<span class="token variable">)</span></span>.tar.gz"</span>
<span class="token assign-left variable">BACKUP_PATH</span><span class="token operator">=</span><span class="token string">"/mnt/c/Users/&#x3C;username>/Desktop/<span class="token variable">$BACKUP_NAME</span>"</span>

<span class="token builtin class-name">echo</span> <span class="token string">"<span class="token entity" title="\ud83d">\ud83d</span><span class="token entity" title="\udce6">\udce6</span> Creating selective backup..."</span>

<span class="token function">tar</span> -czvf <span class="token string">"<span class="token variable">$BACKUP_PATH</span>"</span> <span class="token punctuation">\</span>
  /home/<span class="token operator">&#x3C;</span>username<span class="token operator">></span>/folder1 <span class="token punctuation">\</span>
  /home/<span class="token operator">&#x3C;</span>username<span class="token operator">></span>/folder2 <span class="token punctuation">\</span>
  /home/<span class="token operator">&#x3C;</span>username<span class="token operator">></span>/folder3 <span class="token punctuation">\</span>
  /home/<span class="token operator">&#x3C;</span>username<span class="token operator">></span>/.ssh

<span class="token builtin class-name">echo</span> <span class="token string">"<span class="token entity" title="\u2705">\u2705</span> Backup completed: <span class="token variable">$BACKUP_PATH</span>"</span>
</code></pre>
<p>Setelah semua data penting aman, gue unregister distro yang rusak:</p>
<pre class="language-bash"><code class="language-bash">wsl --list --verbose
wsl --unregister Ubuntu
wsl --unregister recovery-distro
</code></pre>
<h2 id="refleksi">Refleksi<a aria-hidden="true" class="anchor-heading icon-link" href="#refleksi"></a></h2>
<p>Kalau dipikir-pikir, gue salah kaprah dari awal.</p>
<p>Mitchell itu pakai Nix di dalam <strong>VM</strong>. Environment dia isolated. Kalau rusak? Ya VM tinggal rebuild.</p>
<p>Gue malah pasang Nix langsung di WSL, ngegantiin tool dasar OS. Begitu <code>glibc</code> crash, semua ikut ambruk. Gue juga terlalu optimis sama janji "reproducibility"-nya Nix, padahal kenyataannya. wkwkwkw</p>
<blockquote>
<p>"Nix <strong>aims</strong> for reproducibility, but it does <strong>not guarantee</strong> it."</p>
</blockquote>
<p>Kalau mau baca lebih dalem, ini artikelnya:<br>
<a href="https://cs-syd.eu/posts/2025-03-14-nix-does-not-guarantee-reproducibility">Nix does not guarantee reproducibility</a></p>
<h2 id="yang-gue-pelajarin">Yang Gue Pelajarin<a aria-hidden="true" class="anchor-heading icon-link" href="#yang-gue-pelajarin"></a></h2>
<p>Mulai sekarang, gue bakal pakai Nix cuma buat bikin <code>devShell</code>, bukan gantiin shell dasar. Semua environment harus dipisah, entah itu di VM atau container. Nggak bakal lagi install Nix langsung buat ngeganti sistem operasi.</p>
<p>Flake bakal gue setup lebih hati-hati, pin <code>nixpkgs</code> ke branch stabil kayak <code>nixos-23.11</code>, dan semua yang berhubungan sama core OS bakal gue pisahin.</p>
<p>Backup rutin juga jadi wajib. Kalau perlu gue taro snapshot <code>.vhdx</code> mingguan ke external drive.</p>
<p>Dan yang paling penting: jangan percaya bleeding edge glibc.</p>
<h2 id="penutup">Penutup<a aria-hidden="true" class="anchor-heading icon-link" href="#penutup"></a></h2>
<p>Belajar dari pengalaman ini, gue sadar: Nix itu powerful gila, tapi kayak reaktor nuklir.</p>
<p>Kalau lo salah pake...  Bisa meledak, untung ya beberapa project itu udah di github sih.</p>
<p>Makanya sekarang, gue tetep pakai Nix, tapi dengan lebih hati-hati.
Biar keren kayak Mitchell... tanpa harus jungkir balik recovery lagi. wkwkwk</p>
<hr>
<h2 id="tags">Tags<a aria-hidden="true" class="anchor-heading icon-link" href="#tags"></a></h2>
<ol>
<li><a title="Private" href="https://wiki.dendron.so/notes/hfyvYGJZQiUwQaaxQO27q.html" target="_blank" class="private">nix (Private)</a></li>
<li><a title="Private" href="https://wiki.dendron.so/notes/hfyvYGJZQiUwQaaxQO27q.html" target="_blank" class="private">wsl (Private)</a></li>
<li><a title="Private" href="https://wiki.dendron.so/notes/hfyvYGJZQiUwQaaxQO27q.html" target="_blank" class="private">developer-tools (Private)</a></li>
</ol></div></div><div style="padding-left:10px;padding-right:10px" class="ant-col ant-col-xs-0 ant-col-md-6"><div><div class=""><div class="ant-anchor-wrapper dendron-toc" style="max-height:calc(100vh - 64px);z-index:1"><div class="ant-anchor"><div class="ant-anchor-ink"><span class="ant-anchor-ink-ball"></span></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#masalah" title="Masalah">Masalah</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#usaha-recovery" title="Usaha Recovery">Usaha Recovery</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#refleksi" title="Refleksi">Refleksi</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#yang-gue-pelajarin" title="Yang Gue Pelajarin">Yang Gue Pelajarin</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#penutup" title="Penutup">Penutup</a></div></div></div></div></div></div></div></div></div></div></div><div class="ant-divider ant-divider-horizontal" role="separator"></div><footer class="ant-layout-footer" style="padding:0 24px 24px"></footer></main></section></section></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"note":{"id":"57q7jyz0wff078xaz4s6eea","title":"Recovering from a Broken Nix Wsl Setup","desc":"Nix, WSL, Recovery, Mitchell Hashimoto Inspiration","updated":1745902346611,"created":1745898582297,"tags":["nix","wsl","developer-tools"],"custom":{},"fname":"til.windows.recovering-from-a-broken-nix-wsl-setup","type":"note","vault":{"fsPath":"vault"},"contentHash":"da237ee761f87bb997633aca73c39c43","links":[{"type":"frontmatterTag","from":{"fname":"til.windows.recovering-from-a-broken-nix-wsl-setup","id":"57q7jyz0wff078xaz4s6eea","vaultName":"vault"},"value":"tags.nix","alias":"nix","xvault":false,"to":{"fname":"tags.nix"}},{"type":"frontmatterTag","from":{"fname":"til.windows.recovering-from-a-broken-nix-wsl-setup","id":"57q7jyz0wff078xaz4s6eea","vaultName":"vault"},"value":"tags.wsl","alias":"wsl","xvault":false,"to":{"fname":"tags.wsl"}},{"type":"frontmatterTag","from":{"fname":"til.windows.recovering-from-a-broken-nix-wsl-setup","id":"57q7jyz0wff078xaz4s6eea","vaultName":"vault"},"value":"tags.developer-tools","alias":"developer-tools","xvault":false,"to":{"fname":"tags.developer-tools"}}],"anchors":{"masalah":{"type":"header","text":"Masalah","value":"masalah","line":19,"column":0,"depth":2},"usaha-recovery":{"type":"header","text":"Usaha Recovery","value":"usaha-recovery","line":33,"column":0,"depth":2},"refleksi":{"type":"header","text":"Refleksi","value":"refleksi","line":85,"column":0,"depth":2},"yang-gue-pelajarin":{"type":"header","text":"Yang Gue Pelajarin","value":"yang-gue-pelajarin","line":98,"column":0,"depth":2},"penutup":{"type":"header","text":"Penutup","value":"penutup","line":108,"column":0,"depth":2}},"children":[],"parent":"1p8dbt60sga1nadm2ifywbc","data":{}},"body":"\u003ch1 id=\"recovering-from-a-broken-nix-wsl-setup\"\u003eRecovering from a Broken Nix Wsl Setup\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#recovering-from-a-broken-nix-wsl-setup\"\u003e\u003c/a\u003e\u003c/h1\u003e\n\u003cp\u003eBeberapa bulan lalu, gue lagi nonton sesi \u003ca href=\"https://www.youtube.com/watch?v=LA8KF9Fs2sk\"\u003eDev Tool Time\u003c/a\u003e, narasumbernya \u003cstrong\u003eMitchell Hashimoto\u003c/strong\u003e (founder Vagrant, Terraform, Vault).\u003c/p\u003e\n\u003cp\u003eDi situ Mitchell nunjukin setup developernya yang keren banget: pakai \u003cstrong\u003eNixOS di dalam VM\u003c/strong\u003e, semua konfigurasinya deklaratif, dan kalau mau rebuild environment cukup jalanin satu perintah. \u003c/p\u003e\n\u003cp\u003eGue mikir, \"Wah gila, keren banget. Kalau Mitchell bisa, masa gue nggak?\". Akhirnya gue mulai eksperimen sendiri: pasang Nix langsung di WSL Ubuntu, tanpa VM. Gue pikir bakal lebih praktis. Ternyata... malah jadi awal bencana kecil.\u003c/p\u003e\n\u003ch2 id=\"masalah\"\u003eMasalah\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#masalah\"\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003cp\u003eAwalnya semua keliatan baik-baik aja. Tapi hari ini 2025-04-29 , tiba-tiba semua command dasar kayak \u003ccode\u003els\u003c/code\u003e, \u003ccode\u003emkdir\u003c/code\u003e, \u003ccode\u003erm\u003c/code\u003e mulai error. Pesannya aneh banget:\u003c/p\u003e\n\u003cpre class=\"language-bash\"\u003e\u003ccode class=\"language-bash\"\u003emkdir: symbol lookup error: /nix/store/\u003cspan class=\"token punctuation\"\u003e..\u003c/span\u003e./libc.so.6: undefined symbol: __tunable_is_initialized, version GLIBC_PRIVATE\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eSemua binary standar mati total, bahkan \u003ccode\u003ebash\u003c/code\u003e sendiri error. Sistem WSL gue kayak zombified.\u003c/p\u003e\n\u003cp\u003eSetelah gue selidiki, ketauan masalahnya: glibc versi baru dari Nix terlalu bleeding edge. Ada perubahan internal symbol yang bikin semua binary yang udah ada langsung crash. Dan karena gue make Nix sebagai base shell, ya udah, kena semua.\u003c/p\u003e\n\u003cp\u003eParahnya lagi, file \u003ccode\u003e.vhdx\u003c/code\u003e WSL jadi ke-lock. Mau akses lewat Windows pun nggak bisa. Total disaster.\u003c/p\u003e\n\u003ch2 id=\"usaha-recovery\"\u003eUsaha Recovery\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#usaha-recovery\"\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003cp\u003eKarena dari dalam WSL udah nggak mungkin recovery sih wkwkwk,  satu-satunya jalan dengan melakukan operasi penyelamatan dari luar.\u003c/p\u003e\n\u003cp\u003eGue mulai dengan cari file \u003ccode\u003e.vhdx\u003c/code\u003e di:\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003eC:\\Users\\\u0026#x3C;username\u003e\\AppData\\Local\\Packages\\\u0026#x3C;distro\u003e\\LocalState\\ext4.vhdx\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eAbis itu gue copy \u003ccode\u003e.vhdx\u003c/code\u003e ke lokasi aman. Butuh waktu lama, karena ukurannya 75GB lebih.\u003c/p\u003e\n\u003cp\u003eSetelah itu, gue import lagi file itu ke WSL baru:\u003c/p\u003e\n\u003cpre class=\"language-bash\"\u003e\u003ccode class=\"language-bash\"\u003ewsl --import --vhd recovery-distro D:\u003cspan class=\"token punctuation\"\u003e\\\u003c/span\u003ewsl-recovery\u003cspan class=\"token punctuation\"\u003e\\\u003c/span\u003e D:\u003cspan class=\"token punctuation\"\u003e\\\u003c/span\u003eext4-copy.vhdx --version \u003cspan class=\"token number\"\u003e2\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eLanjut, gue jalanin:\u003c/p\u003e\n\u003cpre class=\"language-bash\"\u003e\u003ccode class=\"language-bash\"\u003ewsl -d recovery-distro\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eAkhirnya bisa masuk ke recovery mode. Tapi jangan buru-buru copy semua \u003ccode\u003e/home\u003c/code\u003e, itu malah buang-buang space. Gue cuma backup folder-folder penting buat development aja kayak project directory sama \u003ccode\u003e.ssh\u003c/code\u003e.\u003c/p\u003e\n\u003cp\u003ePakai \u003ccode\u003etar\u003c/code\u003e gini:\u003c/p\u003e\n\u003cpre class=\"language-bash\"\u003e\u003ccode class=\"language-bash\"\u003e\u003cspan class=\"token shebang important\"\u003e#!/bin/bash\u003c/span\u003e\n\u003cspan class=\"token assign-left variable\"\u003eBACKUP_NAME\u003c/span\u003e\u003cspan class=\"token operator\"\u003e=\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"home-important-\u003cspan class=\"token variable\"\u003e\u003cspan class=\"token variable\"\u003e$(\u003c/span\u003e\u003cspan class=\"token function\"\u003edate\u003c/span\u003e +%Y%m%d%H%M%S\u003cspan class=\"token variable\"\u003e)\u003c/span\u003e\u003c/span\u003e.tar.gz\"\u003c/span\u003e\n\u003cspan class=\"token assign-left variable\"\u003eBACKUP_PATH\u003c/span\u003e\u003cspan class=\"token operator\"\u003e=\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"/mnt/c/Users/\u0026#x3C;username\u003e/Desktop/\u003cspan class=\"token variable\"\u003e$BACKUP_NAME\u003c/span\u003e\"\u003c/span\u003e\n\n\u003cspan class=\"token builtin class-name\"\u003eecho\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"\u003cspan class=\"token entity\" title=\"\\ud83d\"\u003e\\ud83d\u003c/span\u003e\u003cspan class=\"token entity\" title=\"\\udce6\"\u003e\\udce6\u003c/span\u003e Creating selective backup...\"\u003c/span\u003e\n\n\u003cspan class=\"token function\"\u003etar\u003c/span\u003e -czvf \u003cspan class=\"token string\"\u003e\"\u003cspan class=\"token variable\"\u003e$BACKUP_PATH\u003c/span\u003e\"\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e\\\u003c/span\u003e\n  /home/\u003cspan class=\"token operator\"\u003e\u0026#x3C;\u003c/span\u003eusername\u003cspan class=\"token operator\"\u003e\u003e\u003c/span\u003e/folder1 \u003cspan class=\"token punctuation\"\u003e\\\u003c/span\u003e\n  /home/\u003cspan class=\"token operator\"\u003e\u0026#x3C;\u003c/span\u003eusername\u003cspan class=\"token operator\"\u003e\u003e\u003c/span\u003e/folder2 \u003cspan class=\"token punctuation\"\u003e\\\u003c/span\u003e\n  /home/\u003cspan class=\"token operator\"\u003e\u0026#x3C;\u003c/span\u003eusername\u003cspan class=\"token operator\"\u003e\u003e\u003c/span\u003e/folder3 \u003cspan class=\"token punctuation\"\u003e\\\u003c/span\u003e\n  /home/\u003cspan class=\"token operator\"\u003e\u0026#x3C;\u003c/span\u003eusername\u003cspan class=\"token operator\"\u003e\u003e\u003c/span\u003e/.ssh\n\n\u003cspan class=\"token builtin class-name\"\u003eecho\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"\u003cspan class=\"token entity\" title=\"\\u2705\"\u003e\\u2705\u003c/span\u003e Backup completed: \u003cspan class=\"token variable\"\u003e$BACKUP_PATH\u003c/span\u003e\"\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eSetelah semua data penting aman, gue unregister distro yang rusak:\u003c/p\u003e\n\u003cpre class=\"language-bash\"\u003e\u003ccode class=\"language-bash\"\u003ewsl --list --verbose\nwsl --unregister Ubuntu\nwsl --unregister recovery-distro\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2 id=\"refleksi\"\u003eRefleksi\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#refleksi\"\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003cp\u003eKalau dipikir-pikir, gue salah kaprah dari awal.\u003c/p\u003e\n\u003cp\u003eMitchell itu pakai Nix di dalam \u003cstrong\u003eVM\u003c/strong\u003e. Environment dia isolated. Kalau rusak? Ya VM tinggal rebuild.\u003c/p\u003e\n\u003cp\u003eGue malah pasang Nix langsung di WSL, ngegantiin tool dasar OS. Begitu \u003ccode\u003eglibc\u003c/code\u003e crash, semua ikut ambruk. Gue juga terlalu optimis sama janji \"reproducibility\"-nya Nix, padahal kenyataannya. wkwkwkw\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003e\"Nix \u003cstrong\u003eaims\u003c/strong\u003e for reproducibility, but it does \u003cstrong\u003enot guarantee\u003c/strong\u003e it.\"\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003eKalau mau baca lebih dalem, ini artikelnya:\u003cbr\u003e\n\u003ca href=\"https://cs-syd.eu/posts/2025-03-14-nix-does-not-guarantee-reproducibility\"\u003eNix does not guarantee reproducibility\u003c/a\u003e\u003c/p\u003e\n\u003ch2 id=\"yang-gue-pelajarin\"\u003eYang Gue Pelajarin\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#yang-gue-pelajarin\"\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003cp\u003eMulai sekarang, gue bakal pakai Nix cuma buat bikin \u003ccode\u003edevShell\u003c/code\u003e, bukan gantiin shell dasar. Semua environment harus dipisah, entah itu di VM atau container. Nggak bakal lagi install Nix langsung buat ngeganti sistem operasi.\u003c/p\u003e\n\u003cp\u003eFlake bakal gue setup lebih hati-hati, pin \u003ccode\u003enixpkgs\u003c/code\u003e ke branch stabil kayak \u003ccode\u003enixos-23.11\u003c/code\u003e, dan semua yang berhubungan sama core OS bakal gue pisahin.\u003c/p\u003e\n\u003cp\u003eBackup rutin juga jadi wajib. Kalau perlu gue taro snapshot \u003ccode\u003e.vhdx\u003c/code\u003e mingguan ke external drive.\u003c/p\u003e\n\u003cp\u003eDan yang paling penting: jangan percaya bleeding edge glibc.\u003c/p\u003e\n\u003ch2 id=\"penutup\"\u003ePenutup\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#penutup\"\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003cp\u003eBelajar dari pengalaman ini, gue sadar: Nix itu powerful gila, tapi kayak reaktor nuklir.\u003c/p\u003e\n\u003cp\u003eKalau lo salah pake...  Bisa meledak, untung ya beberapa project itu udah di github sih.\u003c/p\u003e\n\u003cp\u003eMakanya sekarang, gue tetep pakai Nix, tapi dengan lebih hati-hati.\nBiar keren kayak Mitchell... tanpa harus jungkir balik recovery lagi. wkwkwk\u003c/p\u003e\n\u003chr\u003e\n\u003ch2 id=\"tags\"\u003eTags\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#tags\"\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003col\u003e\n\u003cli\u003e\u003ca title=\"Private\" href=\"https://wiki.dendron.so/notes/hfyvYGJZQiUwQaaxQO27q.html\" target=\"_blank\" class=\"private\"\u003enix (Private)\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca title=\"Private\" href=\"https://wiki.dendron.so/notes/hfyvYGJZQiUwQaaxQO27q.html\" target=\"_blank\" class=\"private\"\u003ewsl (Private)\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca title=\"Private\" href=\"https://wiki.dendron.so/notes/hfyvYGJZQiUwQaaxQO27q.html\" target=\"_blank\" class=\"private\"\u003edeveloper-tools (Private)\u003c/a\u003e\u003c/li\u003e\n\u003c/ol\u003e","noteIndex":{"id":"oqxmejlafk9x8rj9t5hya5z","title":"Hello and Welcome! 👋","desc":"","updated":1742030256619,"created":1646842475821,"custom":{"nav_order":0,"permalink":"/"},"fname":"root","type":"note","vault":{"fsPath":"vault"},"contentHash":"f7db9d96297496e598d70248ef16b81f","links":[],"anchors":{"find-more":{"type":"header","text":"Find More","value":"find-more","line":20,"column":0,"depth":2}},"children":["spfwom01chbihki1twghclf","bsv930j2j6qlih60c7eu7wh","ohf85tu5nw2b8ewx6cetsmp","u3lhhpriar8wgcjw8svapha","tvdcga33h6hi7fxd9cwqd66"],"parent":null,"data":{},"body":"\nWelcome to the homepage! I use Dendron to store and organize notes, ideas, and experiments I’m working on. Here are the main sections you’ll find on this site:\n\n1. **Learning Notes** — Practical notes on programming, recent technologies, and productivity tips.\n2. **Personal Projects** — Summaries of projects, experiments, and outcomes I’m working on or have completed.\n3. **Writings \u0026 Opinions** — Casual articles and reflections about technology, daily life, and other interesting topics.\n\nI’m constantly experimenting and learning. I hope the content here helps you as a reference, a starting point for discussion, or just light reading.\n\n\u003e Why Dendron?\n\u003e\nDendron helps keep notes organized. Its \"seed\" and \"vault\" concepts make it easy to structure content and find what you need.\n\n## Find More\n\nIf you want to learn more or connect, check these links:\n\n- [Homepage (Dendron)](https://zeihanaulia.github.io/sotoy/)\n- [My GitHub](https://github.com/zeihanaulia)\n- [My Twitter / X](https://x.com/zeihanaulia)\n\nThanks for stopping by. If you have feedback or want to chat, feel free to reach out.\n"},"collectionChildren":null,"customHeadContent":null,"config":{"version":5,"dev":{"enablePreviewV2":true},"commands":{"lookup":{"note":{"selectionMode":"extract","confirmVaultOnCreate":true,"vaultSelectionModeOnCreate":"smart","leaveTrace":false,"bubbleUpCreateNew":true,"fuzzThreshold":0.2}},"randomNote":{},"insertNoteLink":{"aliasMode":"none","enableMultiSelect":false},"insertNoteIndex":{"enableMarker":false},"copyNoteLink":{"aliasMode":"title"},"templateHierarchy":"template"},"workspace":{"dendronVersion":"0.83.0","vaults":[{"fsPath":"vault"}],"journal":{"dailyDomain":"daily","name":"journal","dateFormat":"y.MM.dd","addBehavior":"childOfDomain"},"scratch":{"name":"scratch","dateFormat":"y.MM.dd.HHmmss","addBehavior":"asOwnDomain"},"task":{"name":"","dateFormat":"","addBehavior":"childOfCurrent","statusSymbols":{"":" ","wip":"w","done":"x","assigned":"a","moved":"m","blocked":"b","delegated":"l","dropped":"d","pending":"y"},"prioritySymbols":{"H":"high","M":"medium","L":"low"},"todoIntegration":false,"createTaskSelectionType":"selection2link","taskCompleteStatus":["done","x"]},"graph":{"zoomSpeed":1,"createStub":false},"enableAutoCreateOnDefinition":false,"enableXVaultWikiLink":false,"enableRemoteVaultInit":true,"enableUserTags":true,"enableHashTags":true,"workspaceVaultSyncMode":"noCommit","enableAutoFoldFrontmatter":false,"enableEditorDecorations":true,"maxPreviewsCached":10,"maxNoteLength":204800,"seeds":{"dendron.templates":{}},"enableFullHierarchyNoteTitle":false},"preview":{"enableFMTitle":true,"enableNoteTitleForLink":true,"enableFrontmatterTags":true,"enableHashesForFMTags":false,"enablePrettyRefs":true,"enableKatex":true,"automaticallyShowPreview":false},"publishing":{"enableFMTitle":true,"enableNoteTitleForLink":true,"enablePrettyRefs":true,"enableKatex":true,"copyAssets":true,"siteHierarchies":["root"],"writeStubs":true,"siteRootDir":"docs","seo":{"title":"Sotoy","description":"Personal knowledge space about anything I learn. Notes, knowledge, and ideas from me.","author":"Zeihan Aulia","twitter":"zeihanaulia","image":{"url":"https://pbs.twimg.com/profile_images/502375255256485888/1UYtt7PT_400x400.jpeg","alt":"Software Engineer, "}},"github":{"enableEditLink":true,"editLinkText":"Edit this page on GitHub","editBranch":"main","editViewMode":"tree"},"enableSiteLastModified":true,"enableFrontmatterTags":true,"enableHashesForFMTags":false,"enableRandomlyColoredTags":true,"enableTaskNotes":true,"enablePrettyLinks":true,"searchMode":"lookup","assetsPrefix":"/sotoy","siteUrl":"https://zeihanaulia.github.io","duplicateNoteBehavior":{"action":"useVault","payload":["vault-private","vault","dendron.templates"]},"siteFaviconPath":"favicon.ico","siteIndex":"root"}}},"__N_SSG":true},"page":"/notes/[id]","query":{"id":"57q7jyz0wff078xaz4s6eea"},"buildId":"l_PAyXQBStiOpWGlqI7Zj","assetPrefix":"/sotoy","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>